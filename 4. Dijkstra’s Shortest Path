import heapq

graph = {'A':{'B':1,'C':4}, 'B':{'C':2,'D':5}, 'C':{'D':1}, 'D':{}}

def dijkstra(start):
    pq = [(0,start)]
    dist = {start:0}
    while pq:
        cost,node = heapq.heappop(pq)
        for n in graph[node]:
            new = cost + graph[node][n]
            if n not in dist or new < dist[n]:
                dist[n] = new
                heapq.heappush(pq,(new,n))
    return dist

print(dijkstra('A'))
